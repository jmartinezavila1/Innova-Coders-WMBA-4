@model WMBA_4.Models.Player

@{
    ViewData["Title"] = "Delete";
}

<h1>Status</h1>
<h4 class="ft-grey">
    @Model.FirstName @Model.LastName status is
    @(Model.Status ? "Active" : "Inactive")
</h4>

<div>
    <hr />
    <dl class="row">

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Team)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Team.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Team.Division.DivisionName)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Team.Division.DivisionName)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.JerseyNumber)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.JerseyNumber)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.MemberID)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.MemberID)
        </dd>
    </dl>

    <form id="deleteForm" asp-action="Delete" class="form-group">
        <input type="hidden" asp-for="ID" />
        <a href='@ViewData["returnURL"]' class="btn btn-outline-secondary mx-1">Back to the @ViewData["ControllerName"] List</a>

        @{
            if (Model.Status) // If player is active
            {
                <button type="button" onclick="confirmDelete()" class="btn btn-danger mx-1">Inactive</button>
            }
            else // If player is inactive
            {
                <button type="button" onclick="confirmActivate()" class="btn btn-success mx-1">Activate</button>
            }
        }
    </form>
</div>

@section Scripts {
    <script>
        function confirmDelete() {
            if (confirm('Are you sure you want to inactive this player?')) {
                document.getElementById("deleteForm").submit();
            }
        }

        function confirmActivate() {
            if (confirm('Are you sure you want to activate this player?')) {
                location.href = '@Url.Action("Activate", "Player", new { id = Model.ID })';
            }
        }
    </script>
}
